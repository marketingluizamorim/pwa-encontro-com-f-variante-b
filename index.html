<!doctype html>
<html lang="pt-BR">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport"
    content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover, interactive-widget=resizes-content" />
  <title>Encontro com Fé - Conexões Cristãs que Transformam Vidas</title>
  <meta name="description"
    content="Encontre pessoas que compartilham seus valores cristãos e sua fé. Conexões genuínas para relacionamentos duradouros, amizades e namoro cristão. Junte-se à maior comunidade de solteiros cristãos do Brasil." />
  <meta name="keywords"
    content="namoro cristão, relacionamento cristão, solteiros cristãos, encontro cristão, comunidade cristã, fé, valores cristãos, dating cristão" />
  <meta name="author" content="Encontro com Fé" />
  <meta name="theme-color" content="#0f172a" />
  <link rel="canonical" href="https://encontrocomfe.site/" />

  <!-- Network Performance -->
  <link rel="preconnect" href="https://vsvonhizszjicvovnmdm.supabase.co" crossorigin />
  <link rel="preconnect" href="https://cdn.utmify.com.br" crossorigin />
  <link rel="preconnect" href="https://cdnjs.cloudflare.com" crossorigin />
  <link rel="dns-prefetch" href="https://vsvonhizszjicvovnmdm.supabase.co" />

  <!-- PWA Meta Tags -->
  <meta name="mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
  <meta name="apple-mobile-web-app-title" content="EncontroFé" />
  <meta name="application-name" content="Encontro com Fé" />
  <meta name="msapplication-TileColor" content="#0d9488" />
  <meta name="msapplication-tap-highlight" content="no" />
  <meta name="format-detection" content="telephone=no" />

  <!-- PWA Icons -->
  <link rel="icon" href="/favicon.ico" />
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png" />
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png" />
  <link rel="apple-touch-icon" href="/nova-logo-azul.png?v=4" />
  <link rel="apple-touch-icon" sizes="180x180" href="/nova-logo-azul.png?v=4" />
  <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#0d9488" />
  <link rel="manifest" href="/manifest.webmanifest" />

  <script>
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('/sw.js', { type: 'module' });
    }
  </script>

  <meta property="og:title" content="Encontro com Fé - Conexões Cristãs que Transformam Vidas" />
  <meta property="og:description"
    content="Encontre pessoas que compartilham seus valores cristãos e sua fé. Conexões genuínas para relacionamentos duradouros." />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://encontrocomfe.site/" />
  <meta property="og:image" content="https://encontrocomfe.site/og-image.png" />
  <meta property="og:image:width" content="1200" />
  <meta property="og:image:height" content="630" />
  <meta property="og:locale" content="pt_BR" />
  <meta property="og:site_name" content="Encontro com Fé" />

  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="Encontro com Fé - Conexões Cristãs que Transformam Vidas" />
  <meta name="twitter:description" content="Encontre pessoas que compartilham seus valores cristãos e sua fé" />
  <meta name="twitter:image" content="https://encontrocomfe.site/og-image.png" />
  <meta name="twitter:site" content="@EncontroComFe" />

  <link href="https://cdnjs.cloudflare.com/ajax/libs/remixicon/4.5.0/remixicon.min.css" rel="stylesheet" />

  <!-- Prevent FOUC: apply dark theme immediately before any paint -->
  <script>document.documentElement.classList.add('dark');</script>
  <style>
    html,
    body,
    #root {
      background-color: #0f172a
    }
  </style>

  <!-- UTMify Pixel -->
  <script>
    window.pixelId = "697bc2779f06f5e0ec785918";
    var a = document.createElement("script");
    a.setAttribute("async", "");
    a.setAttribute("defer", "");
    a.setAttribute("src", "https://cdn.utmify.com.br/scripts/pixel/pixel.js");
    document.head.appendChild(a);
  </script>

</head>

<body>
  <!-- Splash Screen: shown instantly before React loads, fades out after mount -->
  <div id="pwa-splash" style="
    position: fixed;
    inset: 0;
    z-index: 99999;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    background-color: #0f172a;
    transition: opacity 0.4s ease;
  ">
    <img src="/3logo-nova1080x1080.png" alt="Encontro com Fé"
      style="width: 140px; height: 140px; object-fit: contain;" />
    <p style="
      margin-top: 20px;
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
      font-size: 22px;
      font-weight: 700;
      color: #d4af37;
      letter-spacing: 0.02em;
    ">Encontro com Fé</p>
    <p style="
      margin-top: 6px;
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
      font-size: 13px;
      color: rgba(255,255,255,0.45);
      letter-spacing: 0.05em;
    ">Conexões que Transformam Vidas</p>
  </div>

  <div id="root"></div>

  <script>
    // Remove splash screen after React mounts (with fade-out)
    (function () {
      var splash = document.getElementById('pwa-splash');

      // Rotas onde o splash NUNCA deve aparecer
      var noSplashPrefixes = ['/v1', '/termos-de-uso', '/politica-de-reembolso'];
      var path = window.location.pathname;
      var isNoSplashRoute = path === '/' || noSplashPrefixes.some(function (p) {
        return path === p || path.indexOf(p + '/') === 0;
      });

      // Se for rota pública ou do funil → remove imediatamente, sem fade
      if (isNoSplashRoute) {
        if (splash && splash.parentNode) splash.parentNode.removeChild(splash);
        return;
      }

      // MutationObserver watches for React rendering into #root
      var observer = new MutationObserver(function () {
        var root = document.getElementById('root');
        if (root && root.children.length > 0) {
          observer.disconnect();
          splash.style.opacity = '0';
          setTimeout(function () {
            if (splash.parentNode) splash.parentNode.removeChild(splash);
          }, 420);
        }
      });
      observer.observe(document.getElementById('root'), { childList: true, subtree: true });
      // Safety fallback: remove after 5s no matter what
      setTimeout(function () {
        if (splash && splash.parentNode) {
          splash.style.opacity = '0';
          setTimeout(function () {
            if (splash && splash.parentNode) splash.parentNode.removeChild(splash);
          }, 420);
        }
      }, 5000);
    })();
  </script>


  <script>
    // Capture beforeinstallprompt ASAP — before React even loads
    // This ensures Install page can always access the deferred prompt
    window.__pwaInstallPrompt = null;
    window.addEventListener('beforeinstallprompt', function (e) {
      e.preventDefault();
      window.__pwaInstallPrompt = e;
    });
  </script>

  <script type="module" src="/src/main.tsx"></script>
</body>

</html>